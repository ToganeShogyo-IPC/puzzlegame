<!DOCTYPE HTML>
<html>
    <head>
        <title></title>
    </head>
    <script src = "lib/phaser.min.js"></script>
    <body>
        <script>
            var config = {
                type: Phaser.AUTO,
                width: 800,
                height: 600,
                scene: {
                    preload: preload,
                    create: create,
                    update: update,
                }
            };

            function drawGrid(){
                graphics.clear();

                var size = 32;
                var width = game.config.width;
                var height = game.config.height;

                graphics.lineStyle(1, 0xffffff, 0.8);

                // 横方向のグリッド線を描画
                for (var i = 0; i < height; i += size) {
                    graphics.moveTo(0, i);
                    graphics.lineTo(width, i);
                }
            
                // 縦方向のグリッド線を描画
                for (var i = 0; i < width; i += size) {
                    graphics.moveTo(i, 0);
                    graphics.lineTo(i, height);
                }
            
                graphics.strokePath();
            }

            function preload(){
                this.load.image("back","img/back.png");
                this.load.spritesheet("witch","img/character/witch.png", {frameWidth:32,frameHeight:32});
            }
            function create(){
                this.add.image(400,300,"back");
                var player = this.add.sprite(400,300,"witch");
                var graphics = this.add.graphics();

                drawGrid();

                this.anims.create({
                    key: "down",
                    frames: this.anims.generateFrameNumbers("witch",{start:0,end:2}),
                    frameRate: 5,
                    repeat: -1
                });
                player.anims.play("down",true);
            }
            function update(){

            }

            var game = new Phaser.Game(config);
        </script>
    </body>
</html>